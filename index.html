<!DOCTYPE html>
<html lang="en" class="bg-gray-950">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>City Transit Route Finder</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-gray-950 to-black text-white flex flex-col items-center p-10">

  <h1 class="text-4xl font-bold mb-10 bg-gradient-to-r from-purple-500 to-cyan-400 text-transparent bg-clip-text">
    üöç City Transit Route Finder
  </h1>

  <div class="bg-white/5 backdrop-blur-lg border border-white/10 p-8 rounded-3xl shadow-2xl w-full max-w-xl mb-10">
    <label class="block mb-2 text-sm text-gray-300">Source Stop:</label>
    <input id="source" placeholder="A" class="w-full p-3 mb-4 rounded-xl bg-gray-800/50 placeholder-gray-400">

    <label class="block mb-2 text-sm text-gray-300">Destination Stop:</label>
    <input id="destination" placeholder="E" class="w-full p-3 mb-6 rounded-xl bg-gray-800/50 placeholder-gray-400">

    <button id="findRoute" class="w-full p-3 rounded-full bg-gradient-to-r from-emerald-500 to-cyan-500 hover:from-emerald-600 hover:to-cyan-600 font-bold transition">
      Find Best Route
    </button>
  </div>

  <div id="output" class="bg-white/5 backdrop-blur-lg border border-white/10 p-8 rounded-3xl shadow-2xl w-full max-w-xl hidden">
    <h2 class="text-2xl font-bold mb-6 bg-gradient-to-r from-cyan-400 to-emerald-400 text-transparent bg-clip-text">
      üó∫Ô∏è Route Timeline
    </h2>
    <ol id="routeList" class="border-l-4 border-cyan-400 pl-6 space-y-4 relative"></ol>
  </div>

  <script>
    const graph = {
      A: { B: 2, C: 5 },
      B: { A: 2, C: 3, D: 4 },
      C: { A: 5, B: 3, D: 2, E: 3 },
      D: { B: 4, C: 2, E: 1 },
      E: { C: 3, D: 1 },
    };

    function dijkstra(start, end) {
      const distances = {};
      const previous = {};
      const visited = {};
      const nodes = Object.keys(graph);

      nodes.forEach(node => {
        distances[node] = Infinity;
        previous[node] = null;
      });
      distances[start] = 0;

      while (nodes.length) {
        nodes.sort((a,b) => distances[a] - distances[b]);
        const closest = nodes.shift();
        if (closest === end) break;

        for (let neighbor in graph[closest]) {
          if (visited[neighbor]) continue;
          const newDist = distances[closest] + graph[closest][neighbor];
          if (newDist < distances[neighbor]) {
            distances[neighbor] = newDist;
            previous[neighbor] = closest;
          }
        }
        visited[closest] = true;
      }

      const path = [];
      let curr = end;
      while (curr) {
        path.unshift(curr);
        curr = previous[curr];
      }
      return path;
    }

    document.getElementById('findRoute').addEventListener('click', () => {
      const source = document.getElementById('source').value.toUpperCase();
      const destination = document.getElementById('destination').value.toUpperCase();
      if (!graph[source] || !graph[destination]) {
        alert("Invalid stop! Use A-E");
        return;
      }

      const path = dijkstra(source, destination);
      const routeList = document.getElementById('routeList');
      routeList.innerHTML = '';
      path.forEach(stop => {
        routeList.innerHTML += `
          <li class="relative">
            <span class="absolute -left-3 top-0 w-4 h-4 bg-emerald-400 rounded-full shadow-lg"></span>
            <span class="text-lg">${stop}</span>
          </li>`;
      });
      document.getElementById('output').classList.remove('hidden');
    });
  </script>

</body>
</html>
